var w2ui=w2ui||{},w2obj=w2obj||{},w2utils=function(e){var t={};return{version:"1.5.x",settings:{locale:"en-us",dateFormat:"m/d/yyyy",timeFormat:"hh:mi pm",datetimeFormat:"m/d/yyyy|hh:mi pm",currencyPrefix:"$",currencySuffix:"",currencyPrecision:2,groupSymbol:",",decimalSymbol:".",shortmonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullmonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortdays:["M","T","W","T","F","S","S"],fulldays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekStarts:"M",dataType:"HTTPJSON",phrases:{},dateStartYear:1950,dateEndYear:2020,macButtonOrder:!1},isBin:function(e){return/^[0-1]+$/.test(e)},isInt:n,isFloat:function(e){"string"==typeof e&&(e=e.replace(/\s+/g,"").replace(w2utils.settings.groupSymbol,"").replace(w2utils.settings.decimalSymbol,"."));return("number"==typeof e||"string"==typeof e&&""!==e)&&!isNaN(Number(e))},isMoney:function(e){var t=w2utils.settings,n=new RegExp("^"+(t.currencyPrefix?"\\"+t.currencyPrefix+"?":"")+"[-+]?"+(t.currencyPrefix?"\\"+t.currencyPrefix+"?":"")+"[0-9]*[\\"+t.decimalSymbol+"]?[0-9]+"+(t.currencySuffix?"\\"+t.currencySuffix+"?":"")+"$","i");"string"==typeof e&&(e=e.replace(new RegExp(t.groupSymbol,"g"),""));return"object"!=typeof e&&""!==e&&n.test(e)},isHex:function(e){return/^(0x)?[0-9a-fA-F]+$/.test(e)},isAlphaNumeric:function(e){return/^[a-zA-Z0-9_-]+$/.test(e)},isEmail:function(e){return/^[a-zA-Z0-9._%\-+]+@[а-яА-Яa-zA-Z0-9.-]+\.[а-яА-Яa-zA-Z]+$/.test(e)},isIpAddress:function(e){return new RegExp("^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).) {3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$").test(e)},isDate:function(e,t,i){if(!e)return!1;var o,r,a,s="Invalid Date";null==t&&(t=w2utils.settings.dateFormat);if("function"==typeof e.getFullYear)a=e.getFullYear(),o=e.getMonth()+1,r=e.getDate();else if(parseInt(e)==e&&parseInt(e)>0)e=new Date(parseInt(e)),a=e.getFullYear(),o=e.getMonth()+1,r=e.getDate();else if("Invalid Date"!=String(new Date(e))){if(e=new Date(e),!0!==i)return!0;e=new Date(e),a=e.getFullYear(),o=e.getMonth()+1,r=e.getDate()}else{if(e=String(e),new RegExp("mon","ig").test(t)){t=t.replace(/month/gi,"m").replace(/mon/gi,"m").replace(/dd/gi,"d").replace(/[, ]/gi,"/").replace(/\/\//g,"/").toLowerCase(),e=e.replace(/[, ]/gi,"/").replace(/\/\//g,"/").toLowerCase();for(var l=0,d=w2utils.settings.fullmonths.length;l<d;l++){var u=w2utils.settings.fullmonths[l];e=e.replace(new RegExp(u,"ig"),parseInt(l)+1).replace(new RegExp(u.substr(0,3),"ig"),parseInt(l)+1)}}var c=e.replace(/-/g,"/").replace(/\./g,"/").toLowerCase().split("/"),p=t.replace(/-/g,"/").replace(/\./g,"/").toLowerCase();"mm/dd/yyyy"===p&&(o=c[0],r=c[1],a=c[2]),"m/d/yyyy"===p&&(o=c[0],r=c[1],a=c[2]),"dd/mm/yyyy"===p&&(o=c[1],r=c[0],a=c[2]),"d/m/yyyy"===p&&(o=c[1],r=c[0],a=c[2]),"yyyy/dd/mm"===p&&(o=c[2],r=c[1],a=c[0]),"yyyy/d/m"===p&&(o=c[2],r=c[1],a=c[0]),"yyyy/mm/dd"===p&&(o=c[1],r=c[2],a=c[0]),"yyyy/m/d"===p&&(o=c[1],r=c[2],a=c[0]),"mm/dd/yy"===p&&(o=c[0],r=c[1],a=c[2]),"m/d/yy"===p&&(o=c[0],r=c[1],a=parseInt(c[2])+1900),"dd/mm/yy"===p&&(o=c[1],r=c[0],a=parseInt(c[2])+1900),"d/m/yy"===p&&(o=c[1],r=c[0],a=parseInt(c[2])+1900),"yy/dd/mm"===p&&(o=c[2],r=c[1],a=parseInt(c[0])+1900),"yy/d/m"===p&&(o=c[2],r=c[1],a=parseInt(c[0])+1900),"yy/mm/dd"===p&&(o=c[1],r=c[2],a=parseInt(c[0])+1900),"yy/m/d"===p&&(o=c[1],r=c[2],a=parseInt(c[0])+1900)}if(!n(a))return!1;if(!n(o))return!1;if(!n(r))return!1;if(a=+a,o=+o,r=+r,s=new Date(a,o-1,r),null==o)return!1;if("Invalid Date"===String(s))return!1;if(s.getMonth()+1!==o||s.getDate()!==r||s.getFullYear()!==a)return!1;return!0!==i||s},isTime:function(t,n){if(null==t)return!1;var i,o,r;t=(t=String(t)).toUpperCase(),o=t.indexOf("AM")>=0;var a=(r=t.indexOf("PM")>=0)||o;i=a?12:24;t=t.replace("AM","").replace("PM","");var s=(t=e.trim(t)).split(":"),l=parseInt(s[0]||0),d=parseInt(s[1]||0),u=parseInt(s[2]||0);if((!a||1!==s.length)&&2!==s.length&&3!==s.length)return!1;if(""===s[0]||l<0||l>i||!this.isInt(s[0])||s[0].length>2)return!1;if(s.length>1&&(""===s[1]||d<0||d>59||!this.isInt(s[1])||2!==s[1].length))return!1;if(s.length>2&&(""===s[2]||u<0||u>59||!this.isInt(s[2])||2!==s[2].length))return!1;if(!a&&i===l&&(0!==d||0!==u))return!1;if(a&&1===s.length&&0===l)return!1;if(!0===n)return r&&12!==l&&(l+=12),o&&12===l&&(l+=12),{hours:l,minutes:d,seconds:u};return!0},isDateTime:function(e,t,n){null==t&&(t=w2utils.settings.datetimeFormat);var i=t.split("|");if("function"==typeof e.getFullYear)return!0!==n||e;if(parseInt(e)===e&&parseInt(e)>=0)return e=new Date(parseInt(e)),!0!==n||e;if(parseInt(e)===e&&parseInt(e)<0)return!1;if("Invalid Date"!=String(new Date(e)))return e=new Date(e),!0!==n||e;var o=String(e).indexOf(" "),r=[e.substr(0,o),e.substr(o).trim()];i[0]=i[0].trim(),i[1]&&(i[1]=i[1].trim());var a=w2utils.isDate(r[0],i[0],!0),s=w2utils.isTime(r[1],!0);return!1!==a&&!1!==s&&(!0!==n||(a.setHours(s.hours),a.setMinutes(s.minutes),a.setSeconds(s.seconds),a))},age:function(e){var t;if(""===e||null==e)return"";t="function"==typeof e.getFullYear?e:parseInt(e)==e&&parseInt(e)>0?new Date(parseInt(e)):new Date(e);if("Invalid Date"===String(t))return"";var n=((new Date).getTime()-t.getTime())/1e3,i="",o="";n<0?(i=0,o="sec"):n<60?(i=Math.floor(n),o="sec",n<0&&(i=0,o="sec")):n<3600?(i=Math.floor(n/60),o="min"):n<86400?(i=Math.floor(n/60/60),o="hour"):n<2592e3?(i=Math.floor(n/24/60/60),o="day"):n<31536e3?(i=Math.floor(n/30/24/60/60*10)/10,o="month"):n<126144e3?(i=Math.floor(n/365/24/60/60*10)/10,o="year"):n>=126144e3&&(i=Math.floor(n/365.25/24/60/60*10)/10,o="year");return i+" "+o+(i>1?"s":"")},interval:function(e){var t="";t=e<1e3?"< 1 sec":e<6e4?Math.floor(e/1e3)+" secs":e<36e5?Math.floor(e/6e4)+" mins":e<864e5?Math.floor(e/36e5*10)/10+" hours":e<2628e6?Math.floor(e/864e5*10)/10+" days":e<31536e6?Math.floor(e/2628e6*10)/10+" months":Math.floor(e/31536e5)/10+" years";return t},date:function(e){if(""===e||null==e||"object"==typeof e&&!e.getMonth)return"";var t=new Date(e);w2utils.isInt(e)&&(t=new Date(Number(e)));if("Invalid Date"===String(t))return"";var n=w2utils.settings.shortmonths,i=new Date,o=new Date;o.setTime(o.getTime()-864e5);var r=n[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear(),a=n[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear(),s=n[o.getMonth()]+" "+o.getDate()+", "+o.getFullYear(),l=t.getHours()-(t.getHours()>12?12:0)+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+" "+(t.getHours()>=12?"pm":"am"),d=t.getHours()-(t.getHours()>12?12:0)+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()+" "+(t.getHours()>=12?"pm":"am"),u=r;r===a&&(u=l);r===s&&(u=w2utils.lang("Yesterday"));return'<span title="'+r+" "+d+'">'+u+"</span>"},formatSize:function(e){if(!w2utils.isFloat(e)||""===e)return"";if(0===(e=parseFloat(e)))return 0;var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return(Math.floor(e/Math.pow(1024,t)*10)/10).toFixed(0===t?0:1)+" "+(["Bt","KB","MB","GB","TB","PB","EB","ZB"][t]||"??")},formatNumber:function(e,t,n){if(null==e||""===e||"object"==typeof e)return"";var i={minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:n};(null==t||t<0)&&(i.minimumFractionDigits=0,i.maximumFractionDigits=20);return parseFloat(e).toLocaleString(w2utils.settings.locale,i)},formatDate:function(e,t){t||(t=this.settings.dateFormat);if(""===e||null==e||"object"==typeof e&&!e.getMonth)return"";var n=new Date(e);w2utils.isInt(e)&&(n=new Date(Number(e)));if("Invalid Date"===String(n))return"";var i=n.getFullYear(),o=n.getMonth(),r=n.getDate();return t.toLowerCase().replace("month",w2utils.settings.fullmonths[o]).replace("mon",w2utils.settings.shortmonths[o]).replace(/yyyy/g,i).replace(/yyy/g,i).replace(/yy/g,i>2e3?100+parseInt(String(i).substr(2)):String(i).substr(2)).replace(/(^|[^a-z$])y/g,"$1"+i).replace(/mm/g,(o+1<10?"0":"")+(o+1)).replace(/dd/g,(r<10?"0":"")+r).replace(/th/g,1==r?"st":"th").replace(/th/g,2==r?"nd":"th").replace(/th/g,3==r?"rd":"th").replace(/(^|[^a-z$])m/g,"$1"+(o+1)).replace(/(^|[^a-z$])d/g,"$1"+r)},formatTime:function(e,t){w2utils.settings.shortmonths,w2utils.settings.fullmonths;t||(t=this.settings.timeFormat);if(""===e||null==e||"object"==typeof e&&!e.getMonth)return"";var n=new Date(e);w2utils.isInt(e)&&(n=new Date(Number(e)));if(w2utils.isTime(e)){var i=w2utils.isTime(e,!0);(n=new Date).setHours(i.hours),n.setMinutes(i.minutes)}if("Invalid Date"===String(n))return"";var o="am",r=n.getHours(),a=n.getHours(),s=n.getMinutes(),l=n.getSeconds();s<10&&(s="0"+s);l<10&&(l="0"+l);-1===t.indexOf("am")&&-1===t.indexOf("pm")||(r>=12&&(o="pm"),r>12&&(r-=12),0===r&&(r=12));return t.toLowerCase().replace("am",o).replace("pm",o).replace("hhh",r<10?"0"+r:r).replace("hh24",a<10?"0"+a:a).replace("h24",a).replace("hh",r).replace("mm",s).replace("mi",s).replace("ss",l).replace(/(^|[^a-z$])h/g,"$1"+r).replace(/(^|[^a-z$])m/g,"$1"+s).replace(/(^|[^a-z$])s/g,"$1"+l)},formatDateTime:function(e,t){var n;if(""===e||null==e||"object"==typeof e&&!e.getMonth)return"";"string"!=typeof t?n=[this.settings.dateFormat,this.settings.timeFormat]:((n=t.split("|"))[0]=n[0].trim(),n[1]=n.length>1?n[1].trim():this.settings.timeFormat);"h12"===n[1]&&(n[1]="h:m pm");"h24"===n[1]&&(n[1]="h24:m");return this.formatDate(e,n[0])+" "+this.formatTime(e,n[1])},stripTags:function(t){if(null==t)return t;switch(typeof t){case"number":break;case"string":t=String(t).replace(/(<([^>]+)>)/gi,"");break;case"object":if(Array.isArray(t)){t=e.extend(!0,[],t);for(var n=0;n<t.length;n++)t[n]=this.stripTags(t[n])}else for(var n in t=e.extend(!0,{},t))t[n]=this.stripTags(t[n])}return t},encodeTags:i,decodeTags:function(t){if(null==t)return t;switch(typeof t){case"number":break;case"string":t=String(t).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&");break;case"object":if(Array.isArray(t)){t=e.extend(!0,[],t);for(var n=0;n<t.length;n++)t[n]=this.decodeTags(t[n])}else for(var n in t=e.extend(!0,{},t))t[n]=this.decodeTags(t[n])}return t},escapeId:function(e){return""===e||null==e?"":String(e).replace(/([;&,\.\+\*\~'`:"\!\^#$%@\[\]\(\)=<>\|\/? {}\\])/g,"\\$1")},base64encode:function(e){var t,n,i,o,r,a,s,l="",d=0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=function(e){e=String(e).replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e);for(;d<e.length;)t=e.charCodeAt(d++),n=e.charCodeAt(d++),i=e.charCodeAt(d++),o=t>>2,r=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),l=l+u.charAt(o)+u.charAt(r)+u.charAt(a)+u.charAt(s);return l},base64decode:function(e){var t,n,i,o,r,a,s,l="",d=0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(;d<e.length;)o=u.indexOf(e.charAt(d++)),r=u.indexOf(e.charAt(d++)),a=u.indexOf(e.charAt(d++)),s=u.indexOf(e.charAt(d++)),t=o<<2|r>>4,n=(15&r)<<4|a>>2,i=(3&a)<<6|s,l+=String.fromCharCode(t),64!==a&&(l+=String.fromCharCode(n)),64!==s&&(l+=String.fromCharCode(i));return l=function(e){for(var t,n,i="",o=0,r=0;o<e.length;)(r=e.charCodeAt(o))<128?(i+=String.fromCharCode(r),o++):r>191&&r<224?(t=e.charCodeAt(o+1),i+=String.fromCharCode((31&r)<<6|63&t),o+=2):(t=e.charCodeAt(o+1),n=e.charCodeAt(o+2),i+=String.fromCharCode((15&r)<<12|(63&t)<<6|63&n),o+=3);return i}(l)},md5:function(e){var t=0;function n(e){return a(s(r(e),8*e.length))}function i(e){for(var n,i=t?"0123456789ABCDEF":"0123456789abcdef",o="",r=0;r<e.length;r++)n=e.charCodeAt(r),o+=i.charAt(n>>>4&15)+i.charAt(15&n);return o}function o(e){for(var t,n,i="",o=-1;++o<e.length;)t=e.charCodeAt(o),n=o+1<e.length?e.charCodeAt(o+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),o++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function r(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function a(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function s(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,o=-1732584194,r=271733878,a=0;a<e.length;a+=16){var s=n,l=i,h=o,g=r;n=d(n,i,o,r,e[a+0],7,-680876936),r=d(r,n,i,o,e[a+1],12,-389564586),o=d(o,r,n,i,e[a+2],17,606105819),i=d(i,o,r,n,e[a+3],22,-1044525330),n=d(n,i,o,r,e[a+4],7,-176418897),r=d(r,n,i,o,e[a+5],12,1200080426),o=d(o,r,n,i,e[a+6],17,-1473231341),i=d(i,o,r,n,e[a+7],22,-45705983),n=d(n,i,o,r,e[a+8],7,1770035416),r=d(r,n,i,o,e[a+9],12,-1958414417),o=d(o,r,n,i,e[a+10],17,-42063),i=d(i,o,r,n,e[a+11],22,-1990404162),n=d(n,i,o,r,e[a+12],7,1804603682),r=d(r,n,i,o,e[a+13],12,-40341101),o=d(o,r,n,i,e[a+14],17,-1502002290),i=d(i,o,r,n,e[a+15],22,1236535329),n=u(n,i,o,r,e[a+1],5,-165796510),r=u(r,n,i,o,e[a+6],9,-1069501632),o=u(o,r,n,i,e[a+11],14,643717713),i=u(i,o,r,n,e[a+0],20,-373897302),n=u(n,i,o,r,e[a+5],5,-701558691),r=u(r,n,i,o,e[a+10],9,38016083),o=u(o,r,n,i,e[a+15],14,-660478335),i=u(i,o,r,n,e[a+4],20,-405537848),n=u(n,i,o,r,e[a+9],5,568446438),r=u(r,n,i,o,e[a+14],9,-1019803690),o=u(o,r,n,i,e[a+3],14,-187363961),i=u(i,o,r,n,e[a+8],20,1163531501),n=u(n,i,o,r,e[a+13],5,-1444681467),r=u(r,n,i,o,e[a+2],9,-51403784),o=u(o,r,n,i,e[a+7],14,1735328473),i=u(i,o,r,n,e[a+12],20,-1926607734),n=c(n,i,o,r,e[a+5],4,-378558),r=c(r,n,i,o,e[a+8],11,-2022574463),o=c(o,r,n,i,e[a+11],16,1839030562),i=c(i,o,r,n,e[a+14],23,-35309556),n=c(n,i,o,r,e[a+1],4,-1530992060),r=c(r,n,i,o,e[a+4],11,1272893353),o=c(o,r,n,i,e[a+7],16,-155497632),i=c(i,o,r,n,e[a+10],23,-1094730640),n=c(n,i,o,r,e[a+13],4,681279174),r=c(r,n,i,o,e[a+0],11,-358537222),o=c(o,r,n,i,e[a+3],16,-722521979),i=c(i,o,r,n,e[a+6],23,76029189),n=c(n,i,o,r,e[a+9],4,-640364487),r=c(r,n,i,o,e[a+12],11,-421815835),o=c(o,r,n,i,e[a+15],16,530742520),i=c(i,o,r,n,e[a+2],23,-995338651),n=p(n,i,o,r,e[a+0],6,-198630844),r=p(r,n,i,o,e[a+7],10,1126891415),o=p(o,r,n,i,e[a+14],15,-1416354905),i=p(i,o,r,n,e[a+5],21,-57434055),n=p(n,i,o,r,e[a+12],6,1700485571),r=p(r,n,i,o,e[a+3],10,-1894986606),o=p(o,r,n,i,e[a+10],15,-1051523),i=p(i,o,r,n,e[a+1],21,-2054922799),n=p(n,i,o,r,e[a+8],6,1873313359),r=p(r,n,i,o,e[a+15],10,-30611744),o=p(o,r,n,i,e[a+6],15,-1560198380),i=p(i,o,r,n,e[a+13],21,1309151649),n=p(n,i,o,r,e[a+4],6,-145523070),r=p(r,n,i,o,e[a+11],10,-1120210379),o=p(o,r,n,i,e[a+2],15,718787259),i=p(i,o,r,n,e[a+9],21,-343485551),n=f(n,s),i=f(i,l),o=f(o,h),r=f(r,g)}return Array(n,i,o,r)}function l(e,t,n,i,o,r){return f((a=f(f(t,e),f(i,r)))<<(s=o)|a>>>32-s,n);var a,s}function d(e,t,n,i,o,r,a){return l(t&n|~t&i,e,t,o,r,a)}function u(e,t,n,i,o,r,a){return l(t&i|n&~i,e,t,o,r,a)}function c(e,t,n,i,o,r,a){return l(t^n^i,e,t,o,r,a)}function p(e,t,n,i,o,r,a){return l(n^(t|~i),e,t,o,r,a)}function f(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}return h=e,i(n(o(h)));var h},transition:function(t,n,i,o){var r=e(t).width(),a=e(t).height();if(!t||!n)return void console.log("ERROR: Cannot do transition when one of the divs is null");switch(t.parentNode.style.cssText+="perspective: 900px; overflow: hidden;",t.style.cssText+="; position: absolute; z-index: 1019; backface-visibility: hidden",n.style.cssText+="; position: absolute; z-index: 1020; backface-visibility: hidden",i){case"slide-left":t.style.cssText+="overflow: hidden; transform: translate3d(0, 0, 0)",n.style.cssText+="overflow: hidden; transform: translate3d("+r+"px, 0, 0)",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: translate3d(0, 0, 0)",t.style.cssText+="transition: 0.5s; transform: translate3d(-"+r+"px, 0, 0)"},1);break;case"slide-right":t.style.cssText+="overflow: hidden; transform: translate3d(0, 0, 0)",n.style.cssText+="overflow: hidden; transform: translate3d(-"+r+"px, 0, 0)",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: translate3d(0px, 0, 0)",t.style.cssText+="transition: 0.5s; transform: translate3d("+r+"px, 0, 0)"},1);break;case"slide-down":t.style.cssText+="overflow: hidden; z-index: 1; transform: translate3d(0, 0, 0)",n.style.cssText+="overflow: hidden; z-index: 0; transform: translate3d(0, 0, 0)",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: translate3d(0, 0, 0)",t.style.cssText+="transition: 0.5s; transform: translate3d(0, "+a+"px, 0)"},1);break;case"slide-up":t.style.cssText+="overflow: hidden; transform: translate3d(0, 0, 0)",n.style.cssText+="overflow: hidden; transform: translate3d(0, "+a+"px, 0)",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: translate3d(0, 0, 0)",t.style.cssText+="transition: 0.5s; transform: translate3d(0, 0, 0)"},1);break;case"flip-left":t.style.cssText+="overflow: hidden; transform: rotateY(0deg)",n.style.cssText+="overflow: hidden; transform: rotateY(-180deg)",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: rotateY(0deg)",t.style.cssText+="transition: 0.5s; transform: rotateY(180deg)"},1);break;case"flip-right":t.style.cssText+="overflow: hidden; transform: rotateY(0deg)",n.style.cssText+="overflow: hidden; transform: rotateY(180deg)",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: rotateY(0deg)",t.style.cssText+="transition: 0.5s; transform: rotateY(-180deg)"},1);break;case"flip-down":t.style.cssText+="overflow: hidden; transform: rotateX(0deg)",n.style.cssText+="overflow: hidden; transform: rotateX(180deg)",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: rotateX(0deg)",t.style.cssText+="transition: 0.5s; transform: rotateX(-180deg)"},1);break;case"flip-up":t.style.cssText+="overflow: hidden; transform: rotateX(0deg)",n.style.cssText+="overflow: hidden; transform: rotateX(-180deg)",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: rotateX(0deg)",t.style.cssText+="transition: 0.5s; transform: rotateX(180deg)"},1);break;case"pop-in":t.style.cssText+="overflow: hidden; transform: translate3d(0, 0, 0)",n.style.cssText+="overflow: hidden; transform: translate3d(0, 0, 0); transform: scale(.8); opacity: 0;",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; transform: scale(1); opacity: 1;",t.style.cssText+="transition: 0.5s;"},1);break;case"pop-out":t.style.cssText+="overflow: hidden; transform: translate3d(0, 0, 0); transform: scale(1); opacity: 1;",n.style.cssText+="overflow: hidden; transform: translate3d(0, 0, 0); opacity: 0;",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; opacity: 1;",t.style.cssText+="transition: 0.5s; transform: scale(1.7); opacity: 0;"},1);break;default:t.style.cssText+="overflow: hidden; transform: translate3d(0, 0, 0)",n.style.cssText+="overflow: hidden; translate3d(0, 0, 0); opacity: 0;",e(n).show(),window.setTimeout(function(){n.style.cssText+="transition: 0.5s; opacity: 1;",t.style.cssText+="transition: 0.5s"},1)}setTimeout(function(){"slide-down"===i&&(e(t).css("z-index","1019"),e(n).css("z-index","1020")),n&&e(n).css({opacity:"1"}).css(w2utils.cssPrefix({transition:"",transform:""})),t&&e(t).css({opacity:"1"}).css(w2utils.cssPrefix({transition:"",transform:""})),"function"==typeof o&&o()},500)},lock:function(t,n,i){var o={};"object"==typeof n?o=n:(o.msg=n,o.spinner=i);o.msg||0===o.msg||(o.msg="");w2utils.unlock(t),e(t).prepend('<div class="w2ui-lock"></div><div class="w2ui-lock-msg"></div>');var r=e(t).find(".w2ui-lock"),a=e(t).find(".w2ui-lock-msg");o.msg||a.css({"background-color":"transparent",border:"0px"});!0===o.spinner&&(o.msg='<div class="w2ui-spinner" '+(o.msg?"":'style="width: 35px; height: 35px"')+"></div>"+o.msg);null!=o.opacity&&r.css("opacity",o.opacity);"function"==typeof r.fadeIn?(r.fadeIn(200),a.html(o.msg).fadeIn(200)):(r.show(),a.html(o.msg).show(0))},unlock:function(t,i){n(i)?(e(t).find(".w2ui-lock").fadeOut(i),setTimeout(function(){e(t).find(".w2ui-lock").remove(),e(t).find(".w2ui-lock-msg").remove()},i)):(e(t).find(".w2ui-lock").remove(),e(t).find(".w2ui-lock-msg").remove())},message:function(t,n){var i,o,r=this;e().w2tag(),n||(n={width:200,height:100});null==n.on&&e.extend(n,w2utils.event);null==n.width&&(n.width=200);null==n.height&&(n.height=100);var a=parseInt(e(t.box).width()),s=parseInt(e(t.box).height()),l=parseInt(e(t.box).find(t.title).css("height")||0);n.width>a&&(n.width=a-10);n.height>s-l&&(n.height=s-10-l);n.originalWidth=n.width,n.originalHeight=n.height,parseInt(n.width)<0&&(n.width=a+n.width);parseInt(n.width)<10&&(n.width=10);parseInt(n.height)<0&&(n.height=s+n.height-l);parseInt(n.height)<10&&(n.height=10);null==n.hideOnClick&&(n.hideOnClick=!1);var d=e(t.box).data("options")||{};(null==n.width||n.width>d.width-10)&&(n.width=d.width-10);(null==n.height||n.height>d.height-l-5)&&(n.height=d.height-l-5);n.originalHeight<0&&(n.height=s+n.originalHeight-l);n.originalWidth<0&&(n.width=a+2*n.originalWidth);var u=e(t.box).find(t.title),c=e(t.box).find(".w2ui-message.w2ui-closing");e(t.box).find(".w2ui-message.w2ui-closing").length>0&&(clearTimeout(i),g(c,c.data("options")||{}));var p=e(t.box).find(".w2ui-message").length;if(""===e.trim(n.html)&&""===e.trim(n.body)&&""===e.trim(n.buttons)){if(0===p)return;var f=e(t.box).find("#w2ui-message"+(p-1)),n=f.data("options")||{};if(!0===(o=n.trigger({phase:"before",type:"close",target:"self"})).isCancelled)return;f.css(w2utils.cssPrefix({transition:"0.15s",transform:"translateY(-"+n.height+"px)"})).addClass("w2ui-closing"),1===p?this.unlock&&(t.param?this.unlock(t.param,150):this.unlock(150)):e(t.box).find("#w2ui-message"+(p-2)).css("z-index",1500),i=setTimeout(function(){g(f,n)},150)}else{""===e.trim(n.body)&&""===e.trim(n.buttons)||(n.html='<div class="w2ui-message-body">'+(n.body||"")+'</div><div class="w2ui-message-buttons">'+(n.buttons||"")+"</div>"),e(t.box).find(".w2ui-message").css("z-index",1390),u.data("old-z-index",u.css("z-index")),u.css("z-index",1501),e(t.box).find(t.body).before('<div id="w2ui-message'+p+'" onmousedown="event.stopPropagation();"    class="w2ui-message" style="display: none; z-index: 1500; '+(0===u.length?"top: 0px;":"top: "+w2utils.getSize(u,"height")+"px;")+(null!=n.width?"width: "+n.width+"px; left: "+(a-n.width)/2+"px;":"left: 10px; right: 10px;")+(null!=n.height?"height: "+n.height+"px;":"bottom: 6px;")+w2utils.cssPrefix("transition",".3s",!0)+'"'+(!0===n.hideOnClick?t.param?'onclick="'+t.path+".message('"+t.param+"');\"":'onclick="'+t.path+'.message();"':"")+"></div>"),e(t.box).find("#w2ui-message"+p).data("options",n).data("prev_focus",e(":focus"));var h=e(t.box).find("#w2ui-message"+p).css("display");if(e(t.box).find("#w2ui-message"+p).css(w2utils.cssPrefix({transform:"none"===h?"translateY(-"+n.height+"px)":"translateY(0px)"})),"none"===h){if(e(t.box).find("#w2ui-message"+p).show().html(n.html),n.box=e(t.box).find("#w2ui-message"+p),!0===(o=n.trigger({phase:"before",type:"open",target:"self"})).isCancelled)return u.css("z-index",u.data("old-z-index")),void e(t.box).find("#w2ui-message"+p).remove();setTimeout(function(){e(t.box).find("#w2ui-message"+p).css(w2utils.cssPrefix({transform:"none"===h?"translateY(0px)":"translateY(-"+n.height+"px)"}))},1),0===p&&this.lock&&(t.param?this.lock(t.param):this.lock()),setTimeout(function(){e(t.box).find("#w2ui-message"+p).css(w2utils.cssPrefix({transition:"0s"})),n.trigger(e.extend(o,{phase:"after"}))},350)}}function g(n,i){if(null==o&&!0===(o=i.trigger({phase:"before",type:"open",target:"self"})).isCancelled)return u.css("z-index",u.data("old-z-index")),void e(t.box).find("#w2ui-message"+p).remove();var a=n.data("prev_focus");n.remove(),a&&a.length>0?a.focus():r&&r.focus&&r.focus(),u.css("z-index",u.data("old-z-index")),i.trigger(e.extend(o,{phase:"after"}))}},naturalCompare:function(e,t){var n,i,o=1,r=0,a=0,s=String.alphabet;function l(e,t,i){if(i){for(n=t;(i=l(e,n))<76&&i>65;)++n;return+e.slice(t-1,n)}return(i=s&&s.indexOf(e.charAt(t)))>-1?i+76:(i=e.charCodeAt(t)||0)<45||i>127?i:i<46?65:i<48?i-1:i<58?i+18:i<65?i-11:i<91?i+11:i<97?i-37:i<123?i+5:i-63}if((e+="")!=(t+=""))for(;o;)if(i=l(e,r++),o=l(t,a++),i<76&&o<76&&i>66&&o>66&&(i=l(e,r,r),o=l(t,a,r=n),a=n),i!=o)return i<o?-1:1;return 0},lang:function(e){var t=this.settings.phrases[e];return null==t?e:t},locale:function(t,n){t||(t="en-us");if("string"!=typeof t)return void(w2utils.settings=e.extend(!0,w2utils.settings,t));if(5===t.length){w2utils.settings.phrases={};let i=function(e){let t;5===e.length&&"es_MX"===e&&(t={locale:"es_MX",dateFormat:"dd/mm/yyyy",timeFormat:"h24",currency:"^[\\$]?[-+]?[0-9]*[\\.]?[0-9]+$",currencyPrefix:"$",currencySuffix:"",groupSymbol:",",decimalSymbol:".",sfloat:"^[-]?[0-9]*[\\.]?[0-9]+$",shortmonths:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],fullmonths:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Оctubre","Noviembre","Diciembre"],shortdays:["L","M","Mi","J","V","S","D"],fulldays:["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],phrases:{"Add new record":"Agregar un nuevo registro","Add New":"Agregar nuevo","All Fields":"Todos los campos","Are you sure you want to delete selected records?":"¿Está seguro de borrar los registros seleccionados?","Attach files by dragging and dropping or Click to Select":"Adjunta archivos al arrastrar y soltar o click para seleccionar","begins with":"comienza con",begins:"comienza",between:"entre",buffered:"en búfer",Column:"Columna",Confirmation:"Confirmación",contains:"сontiene","Delete Confirmation":"Confirmación para eliminar","Delete selected records":"Borrar registros seleccionados",Delete:"Borrar","Edit selected record":"Editar registro seleccionado",Edit:"Editar","ends with":"termina con",ends:"termina",Hide:"Ocultar",in:"en",is:"es","Line #":"# Línea","Multi Fields":"Múltiples campos","No items found":"Ningún objeto encontrado",No:"No",none:"ninguno","Not a float":"No es un punto flotante","Not a hex number":"No es un número hexadecimal","Not a valid date":"Fecha no válida","Not a valid email":"No es un e-mail válido","Not alpha-numeric":"No es alfanumérico","Not an integer":"No es un entero","Not in money format":"No está en formato de moneda",Notification:"Notificación",of:"de",Ok:"OK","Open Search Fields":"Abrir campos de búsqueda","Record ID":"ID del registro",Records:"Registros","Refreshing...":"Actualizando...","Reload data in the list":"Recargar los datos en la lista",Remove:"Eliminar","Required field":"Campo requerido","Reset Column Size":"Reponer tamaño de columnas",Reset:"Reponer","Restore Default State":"Reponer estado","Return data is not in JSON format. See console for more information.":"Datos retornados no están en formato JSON. Ver consola para más información.","Save changed records":"Guardar registros modificados","Save Grid State":"Guardar estado",Save:"Guardar","Saving...":"Guardando...",Search:"Buscar","Search...":"Buscar...",sec:"seg","Select Search Field":"Seleccionar campo de búsqueda",selected:"seleccionado","Server Response":"Respuesta del servidor",Show:"Mostrar","Show/hide columns":"Mostrar/Ocultar columnas",Skip:"Omitir","Toggle Line Numbers":"Mostrar/Ocultar número de líneas",Yes:"Sí",Yesterday:"ayer","Select Hour":"Seleccione hora","Select Minute":"Seleccione minuto"}});return t}(t);null!=i?(w2utils.settings=e.extend(!0,w2utils.settings,i),"function"==typeof n&&n()):console.log("ERROR: Cannot load locale "+t)}},getSize:function(t,n){var i=e(t),o={left:parseInt(i.css("border-left-width"))||0,right:parseInt(i.css("border-right-width"))||0,top:parseInt(i.css("border-top-width"))||0,bottom:parseInt(i.css("border-bottom-width"))||0},r={left:parseInt(i.css("margin-left"))||0,right:parseInt(i.css("margin-right"))||0,top:parseInt(i.css("margin-top"))||0,bottom:parseInt(i.css("margin-bottom"))||0},a={left:parseInt(i.css("padding-left"))||0,right:parseInt(i.css("padding-right"))||0,top:parseInt(i.css("padding-top"))||0,bottom:parseInt(i.css("padding-bottom"))||0};switch(n){case"top":return o.top+r.top+a.top;case"bottom":return o.bottom+r.bottom+a.bottom;case"left":return o.left+r.left+a.left;case"right":return o.right+r.right+a.right;case"width":return o.left+o.right+r.left+r.right+a.left+a.right+parseInt(i.width());case"height":return o.top+o.bottom+r.top+r.bottom+a.top+a.bottom+parseInt(i.height());case"+width":return o.left+o.right+r.left+r.right+a.left+a.right;case"+height":return o.top+o.bottom+r.top+r.bottom+a.top+a.bottom}return 0},getStrWidth:function(t,n){var o,r='<div id="_tmp_width" style="position: absolute; top: -900px;'+(n||"")+'">'+i(t)+"</div>";return e("body").append(r),o=e("#_tmp_width").width(),e("#_tmp_width").remove(),o},scrollBarSize:function(){if(t.scrollBarSize)return t.scrollBarSize;e("body").append('<div id="_scrollbar_width" style="position: absolute; top: -300px; width: 100px; height: 100px; overflow-y: scroll;">    <div style="height: 120px">1</div></div>'),t.scrollBarSize=100-e("#_scrollbar_width > div").width(),e("#_scrollbar_width").remove(),String(navigator.userAgent).indexOf("MSIE")>=0&&(t.scrollBarSize=t.scrollBarSize/2);return t.scrollBarSize},checkName:function(e,t){if(!e||null==e.name)return console.log('ERROR: The parameter "name" is required but not supplied in $().'+t+"()."),!1;if(null!=w2ui[e.name])return console.log('ERROR: The parameter "name" is not unique. There are other objects already created with the same name (obj: '+e.name+")."),!1;if(!w2utils.isAlphaNumeric(e.name))return console.log('ERROR: The parameter "name" has to be alpha-numeric (a-z, 0-9, dash and underscore). '),!1;return!0},checkUniqueId:function(t,n,i,o){e.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)if(n[r].id===t)return console.log('ERROR: The parameter "id='+t+'" is not unique within the current '+i+". (obj: "+o+")"),!1;return!0},parseRoute:function(e){var t=[],n=e.replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,i,o,r,a){return t.push({name:o,optional:!!a}),n=n||"",(a?"":n)+"(?:"+(a?n:"")+(i||"")+(r||(i?"([^/.]+?)":"([^/]+?)"))+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)");return{path:new RegExp("^"+n+"$","i"),keys:t}},cssPrefix:function(t,n,i){var o={},r={},a="";e.isPlainObject(t)?(o=t,!0===n&&(i=!0)):o[t]=n;for(var s in o)r[s]=o[s],r["-webkit-"+s]=o[s],r["-moz-"+s]=o[s].replace("-webkit-","-moz-"),r["-ms-"+s]=o[s].replace("-webkit-","-ms-"),r["-o-"+s]=o[s].replace("-webkit-","-o-");if(!0===i)for(var s in r)a+=s+": "+r[s]+"; ";else a=r;return a},parseColor:function(e){if("string"!=typeof e)return null;e=e.trim().toUpperCase();"#"===e[0]&&(e=e.substr(1));var t={};if(3===e.length)t={r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1};else if(6===e.length)t={r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1};else if(e.length>4&&"RGB("===e.substr(0,4)){var n=e.replace("RGB","").replace(/\(/g,"").replace(/\)/g,"").split(",");t={r:parseInt(n[0],10),g:parseInt(n[1],10),b:parseInt(n[2],10),a:1}}else{if(!(e.length>5&&"RGBA("===e.substr(0,5)))return null;var n=e.replace("RGBA","").replace(/\(/g,"").replace(/\)/g,"").split(",");t={r:parseInt(n[0],10),g:parseInt(n[1],10),b:parseInt(n[2],10),a:parseFloat(n[3])}}return t},hsv2rgb:function(e,t,n,i){var o,r,a,s,l,d,u,c;1===arguments.length&&(t=e.s,n=e.v,i=e.a,e=e.h);switch(e/=360,t/=100,n/=100,s=Math.floor(6*e),d=n*(1-t),u=n*(1-(l=6*e-s)*t),c=n*(1-(1-l)*t),s%6){case 0:o=n,r=c,a=d;break;case 1:o=u,r=n,a=d;break;case 2:o=d,r=n,a=c;break;case 3:o=d,r=u,a=n;break;case 4:o=c,r=d,a=n;break;case 5:o=n,r=d,a=u}return{r:Math.round(255*o),g:Math.round(255*r),b:Math.round(255*a),a:null!=i?i:1}},rgb2hsv:function(e,t,n,i){1===arguments.length&&(t=e.g,n=e.b,i=e.a,e=e.r);var o,r=Math.max(e,t,n),a=Math.min(e,t,n),s=r-a,l=0===r?0:s/r,d=r/255;switch(r){case a:o=0;break;case e:o=t-n+s*(t<n?6:0),o/=6*s;break;case t:o=n-e+2*s,o/=6*s;break;case n:o=e-t+4*s,o/=6*s}return{h:Math.round(360*o),s:Math.round(100*l),v:Math.round(100*d),a:null!=i?i:1}},getCursorPosition:function(e){if(null==e)return null;var t,n=0,i=e.ownerDocument||e.document,o=i.defaultView||i.parentWindow;if(e.tagName&&"INPUT"===e.tagName.toUpperCase()&&e.selectionStart)n=e.selectionStart;else if(o.getSelection){if((t=o.getSelection()).rangeCount>0){var r=t.getRangeAt(0),a=r.cloneRange();a.selectNodeContents(e),a.setEnd(r.endContainer,r.endOffset),n=a.toString().length}}else if((t=i.selection)&&"Control"!==t.type){var s=t.createRange(),l=i.body.createTextRange();l.moveToElementText(e),l.setEndPoint("EndToEnd",s),n=l.text.length}return n},setCursorPosition:function(t,n,i){var o,r=document.createRange(),a=window.getSelection();if(null==t)return;for(var s=0;s<t.childNodes.length;s++){var l=e(t.childNodes[s]).text();if(t.childNodes[s].tagName&&(l=(l=e(t.childNodes[s]).html()).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&nbsp;/g," ")),n<=l.length){(o=t.childNodes[s]).childNodes&&o.childNodes.length>0&&(o=o.childNodes[0]),o.childNodes&&o.childNodes.length>0&&(o=o.childNodes[0]);break}n-=l.length}if(null==o)return;n>o.length&&(n=o.length);r.setStart(o,n),i?r.setEnd(o,i):r.collapse(!0);a.removeAllRanges(),a.addRange(r)},testLocalStorage:o,hasLocalStorage:o(),isIOS:-1!==navigator.userAgent.toLowerCase().indexOf("iphone")||-1!==navigator.userAgent.toLowerCase().indexOf("ipod")||-1!==navigator.userAgent.toLowerCase().indexOf("ipad")||-1!==navigator.userAgent.toLowerCase().indexOf("mobile")||-1!==navigator.userAgent.toLowerCase().indexOf("android"),isIE:-1!==navigator.userAgent.toLowerCase().indexOf("msie")||-1!==navigator.userAgent.toLowerCase().indexOf("trident")};function n(e){return/^[-+]?[0-9]+$/.test(e)}function i(t){if(null==t)return t;switch(typeof t){case"number":break;case"string":t=String(t).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");break;case"object":if(Array.isArray(t)){t=e.extend(!0,[],t);for(var n=0;n<t.length;n++)t[n]=this.encodeTags(t[n])}else for(var n in t=e.extend(!0,{},t))t[n]=this.encodeTags(t[n])}return t}function o(){var e="w2ui_test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}}(jQuery);w2utils.formatters={number:function(e,t){return parseInt(t)>20&&(t=20),parseInt(t)<0&&(t=0),null==e||""===e?"":w2utils.formatNumber(parseFloat(e),t,!0)},float:function(e,t){return w2utils.formatters.number(e,t)},int:function(e,t){return w2utils.formatters.number(e,0)},money:function(e,t){if(null==e||""===e)return"";var n=w2utils.formatNumber(Number(e),w2utils.settings.currencyPrecision||2);return(w2utils.settings.currencyPrefix||"")+n+(w2utils.settings.currencySuffix||"")},currency:function(e,t){return w2utils.formatters.money(e,t)},percent:function(e,t){return null==e||""===e?"":w2utils.formatNumber(e,t||1)+"%"},size:function(e,t){return null==e||""===e?"":w2utils.formatSize(parseInt(e))},date:function(e,t){if(""===t&&(t=w2utils.settings.dateFormat),null==e||0===e||""===e)return"";var n=w2utils.isDateTime(e,t,!0);return!1===n&&(n=w2utils.isDate(e,t,!0)),'<span title="'+n+'">'+w2utils.formatDate(n,t)+"</span>"},datetime:function(e,t){if(""===t&&(t=w2utils.settings.datetimeFormat),null==e||0===e||""===e)return"";var n=w2utils.isDateTime(e,t,!0);return!1===n&&(n=w2utils.isDate(e,t,!0)),'<span title="'+n+'">'+w2utils.formatDateTime(n,t)+"</span>"},time:function(e,t){if(""===t&&(t=w2utils.settings.timeFormat),"h12"===t&&(t="hh:mi pm"),"h24"===t&&(t="h24:mi"),null==e||0===e||""===e)return"";var n=w2utils.isDateTime(e,t,!0);return!1===n&&(n=w2utils.isDate(e,t,!0)),'<span title="'+n+'">'+w2utils.formatTime(e,t)+"</span>"},timestamp:function(e,t){if(""===t&&(t=w2utils.settings.datetimeFormat),null==e||0===e||""===e)return"";var n=w2utils.isDateTime(e,t,!0);return!1===n&&(n=w2utils.isDate(e,t,!0)),n.toString?n.toString():""},gmt:function(e,t){if(""===t&&(t=w2utils.settings.datetimeFormat),null==e||0===e||""===e)return"";var n=w2utils.isDateTime(e,t,!0);return!1===n&&(n=w2utils.isDate(e,t,!0)),n.toUTCString?n.toUTCString():""},age:function(e,t){if(null==e||0===e||""===e)return"";var n=w2utils.isDateTime(e,null,!0);return!1===n&&(n=w2utils.isDate(e,null,!0)),'<span title="'+n+'">'+w2utils.age(e)+(t?" "+t:"")+"</span>"},interval:function(e,t){return null==e||0===e||""===e?"":w2utils.interval(e)+(t?" "+t:"")},toggle:function(e,t){return e?"Yes":""},password:function(e,t){for(var n="",i=0;i<e.length;i++)n+="*";return n}},w2utils.event={on:function(e,t){var n,i=jQuery;if("string"==typeof e&&-1!==e.indexOf(".")){var o=e.split(".");e=o[0],n=o[1]}if("string"==typeof e&&-1!==e.indexOf(":")){o=e.split(":");-1!==["complete","done"].indexOf(e[1])&&(e[1]="after"),e={type:o[0],execute:o[1]}}i.isPlainObject(e)||(e={type:e,scope:n}),(e=i.extend({type:null,execute:"before",target:null,onComplete:null},e)).type?t?(i.isArray(this.handlers)||(this.handlers=[]),this.handlers.push({edata:e,handler:t})):console.log("ERROR: You must specify event handler function when calling .on() method of "+this.name):console.log("ERROR: You must specify event type when calling .on() method of "+this.name)},off:function(e,t){var n,i=jQuery;if("string"==typeof e&&-1!==e.indexOf(".")){var o=e.split(".");e=o[0],n=o[1]}if("string"==typeof e&&-1!==e.indexOf(":")){o=e.split(":");-1!==["complete","done"].indexOf(e[1])&&(e[1]="after"),e={type:o[0],execute:o[1]}}if(i.isPlainObject(e)||(e={type:e}),(e=i.extend({},{type:null,execute:"before",target:null,onComplete:null},e)).type||n){t||(t=null);for(var r=[],a=0,s=this.handlers.length;a<s;a++){var l=this.handlers[a];(l.edata.type!==e.type&&"*"!==e.type&&(null==l.edata.scope||""!=e.type)||l.edata.target!==e.target&&null!=e.target||l.edata.execute!==e.execute&&null!=e.execute||!(l.handler===t&&null!=t||null!=n&&l.edata.scope==n))&&r.push(l)}this.handlers=r}else console.log("ERROR: You must specify event type when calling .off() method of "+this.name)},trigger:function(e){var t,n,i,o=jQuery;"before"===(e=o.extend({type:null,phase:"before",target:null,doneHandlers:[]},e,{isStopped:!1,isCancelled:!1,done:function(e){this.doneHandlers.push(e)},preventDefault:function(){this.isCancelled=!0},stopPropagation:function(){this.isStopped=!0}})).phase&&(e.onComplete=null),null==e.target&&(e.target=null),o.isArray(this.handlers)||(this.handlers=[]);for(var r=this.handlers.length-1;r>=0;r--){var a=this.handlers[r];if(!(a.edata.type!==e.type&&"*"!==a.edata.type||a.edata.target!==e.target&&null!=a.edata.target||a.edata.execute!==e.phase&&"*"!==a.edata.execute&&"*"!==a.edata.phase)&&(e=o.extend({},a.edata,e),t=[],(i=new RegExp(/\((.*?)\)/).exec(a.handler))&&(t=i[1].split(/\s*,\s*/)),2===t.length?a.handler.call(this,e.target,e):a.handler.call(this,e),!0===e.isStopped||!0===e.stop))return e}var s="on"+e.type.substr(0,1).toUpperCase()+e.type.substr(1);if("before"===e.phase&&"function"==typeof this[s]&&(n=this[s],t=[],(i=new RegExp(/\((.*?)\)/).exec(n))&&(t=i[1].split(/\s*,\s*/)),2===t.length?n.call(this,e.target,e):n.call(this,e),!0===e.isStopped||!0===e.stop))return e;if(null!=e.object&&"before"===e.phase&&"function"==typeof e.object[s]&&(n=e.object[s],t=[],(i=new RegExp(/\((.*?)\)/).exec(n))&&(t=i[1].split(/\s*,\s*/)),2===t.length?n.call(this,e.target,e):n.call(this,e),!0===e.isStopped||!0===e.stop))return e;if("after"===e.phase){"function"==typeof e.onComplete&&e.onComplete.call(this,e);for(var l=0;l<e.doneHandlers.length;l++)"function"==typeof e.doneHandlers[l]&&e.doneHandlers[l].call(this,e)}return e}},function(e){e.fn.w2render=function(t){e(this).length>0&&("string"==typeof t&&w2ui[t]&&w2ui[t].render(e(this)[0]),"object"==typeof t&&t.render(e(this)[0]))},e.fn.w2destroy=function(e){!e&&this.length>0&&(e=this.attr("name")),"string"==typeof e&&w2ui[e]&&w2ui[e].destroy(),"object"==typeof e&&e.destroy()},e.fn.w2marker=function(){var t=Array.prototype.slice.call(arguments,0);return Array.isArray(t[0])&&(t=t[0]),0!==t.length&&t[0]?e(this).each(function(e,i){n(e,i);for(var o=0;o<t.length;o++){var r=t[o];"string"!=typeof r&&(r=String(r)),r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").replace(/&/g,"&amp;").replace(/</g,"&gt;").replace(/>/g,"&lt;");var a=new RegExp(r+"(?!([^<]+)?>)","gi");i.innerHTML=i.innerHTML.replace(a,s)}function s(e){return'<span class="w2ui-marker">'+e+"</span>"}}):e(this).each(n);function n(e,t){for(;-1!==t.innerHTML.indexOf('<span class="w2ui-marker">');)t.innerHTML=t.innerHTML.replace(/\<span class=\"w2ui\-marker\"\>((.|\n|\r)*)\<\/span\>/gi,"$1")}},e.fn.w2tag=function(t,n){if(1===arguments.length&&"object"==typeof t&&null!=(n=t).html&&(t=n.html),null!=(n=e.extend({id:null,html:t,position:"right|top",align:"none",left:0,top:0,style:"",css:{},className:"",inputClass:"",onShow:null,onHide:null,hideOnKeyPress:!0,hideOnBlur:!1,hideOnClick:!1,hideOnChange:!0},n)).name&&null==n.id&&(n.id=n.name),""!==n.class&&""===n.inputClass&&(n.inputClass=n.class),0!==e(this).length)return e(this).each(function(i,o){var r,a=n.id?n.id:o.id;""==a&&(a=e(o).find("input").attr("id")),a||(a="noid");var s=w2utils.escapeId(a);return null!=e(this).data("w2tag")?(r=e(this).data("w2tag"),e.extend(r.options,n)):r={id:a,attachedTo:o,box:e("#w2ui-tag-"+s),options:e.extend({},n),init:l,hide:function(){if(r.box.length<=0)return;r.tmp.timer&&clearTimeout(r.tmp.timer);r.box.remove(),r.options.hideOnClick&&e(document).off(".w2tag");e(r.attachedTo).off(".w2tag").removeClass(r.options.inputClass).removeData("w2tag"),e(r.attachedTo).length>0&&(e(r.attachedTo)[0].style.cssText=r.tmp.originalCSS);"function"==typeof r.options.onHide&&r.options.onHide()},getPos:u,isMoved:d,tmp:{}},void(""===t||null==t?r.hide():0!==r.box.length?r.box.find(".w2ui-tag-body").css(r.options.css).attr("style",r.options.style).addClass(r.options.className).html(r.options.html):(r.tmp.originalCSS="",e(r.attachedTo).length>0&&(r.tmp.originalCSS=e(r.attachedTo)[0].style.cssText),e("body").append('<div onclick="event.stopPropagation()" style="display: none;" id="w2ui-tag-'+r.id+'"        class="w2ui-tag '+(e(r.attachedTo).parents(".w2ui-popup, .w2ui-overlay-popup, .w2ui-message").length>0?"w2ui-tag-popup":"")+'">   <div style="margin: -2px 0px 0px -2px; white-space: nowrap;">      <div class="w2ui-tag-body '+r.options.className+'" style="'+(r.options.style||"")+'">'+t+"</div>   </div></div>"),r.box=e("#w2ui-tag-"+s),e(r.attachedTo).data("w2tag",r),setTimeout(l,1)));function l(){if(r.box.css("display","block"),r&&r.box&&e(r.attachedTo).offset()){var t=r.getPos();r.box.css({opacity:"1",left:t.left+"px",top:t.top+"px"}).data("w2tag",r).find(".w2ui-tag-body").addClass(t.posClass),r.tmp.pos=t.left+"x"+t.top,e(r.attachedTo).off(".w2tag").css(r.options.css).addClass(r.options.inputClass),r.options.hideOnKeyPress&&e(r.attachedTo).on("keypress.w2tag",r.hide),n.hideOnChange&&("INPUT"===o.nodeName?e(o).on("change.w2tag",r.hide):e(o).find("input").on("change.w2tag",r.hide)),r.options.hideOnBlur&&e(r.attachedTo).on("blur.w2tag",r.hide),r.options.hideOnClick&&e(document).on("click.w2tag",r.hide),"function"==typeof r.options.onShow&&r.options.onShow(),d()}}function d(t){var n=e(r.attachedTo).offset();if(0===e(r.attachedTo).length||0===n.left&&0===n.top||0===r.box.find(".w2ui-tag-body").length)r.hide();else{var i=u();r.tmp.pos!==i.left+"x"+i.top&&(r.box.css(w2utils.cssPrefix({transition:t?"0s":".2s"})).css({left:i.left+"px",top:i.top+"px"}),r.tmp.pos=i.left+"x"+i.top),r.tmp.timer&&clearTimeout(r.tmp.timer),r.tmp.timer=setTimeout(d,100)}}function u(){var t=e(r.attachedTo).offset(),n="w2ui-tag-right",i=parseInt(t.left+r.attachedTo.offsetWidth+(r.options.left?r.options.left:0)),o=parseInt(t.top+(r.options.top?r.options.top:0)),a=r.box.find(".w2ui-tag-body"),s=a[0].offsetWidth,l=a[0].offsetHeight;if("string"==typeof r.options.position&&-1!==r.options.position.indexOf("|")&&(r.options.position=r.options.position.split("|")),"top"===r.options.position)n="w2ui-tag-top",i=parseInt(t.left+(r.options.left?r.options.left:0))-14,o=parseInt(t.top+(r.options.top?r.options.top:0))-l-10;else if("bottom"===r.options.position)n="w2ui-tag-bottom",i=parseInt(t.left+(r.options.left?r.options.left:0))-14,o=parseInt(t.top+r.attachedTo.offsetHeight+(r.options.top?r.options.top:0))+10;else if("left"===r.options.position)n="w2ui-tag-left",i=parseInt(t.left+(r.options.left?r.options.left:0))-s-20,o=parseInt(t.top+(r.options.top?r.options.top:0));else if(Array.isArray(r.options.position)){for(var d=window.innerWidth,u=window.innerHeight,c=0;c<r.options.position.length;c++){var p=r.options.position[c];if("right"===p){if(n="w2ui-tag-right",i=parseInt(t.left+r.attachedTo.offsetWidth+(r.options.left?r.options.left:0)),o=parseInt(t.top+(r.options.top?r.options.top:0)),i+s<=d)break}else if("left"===p){if(n="w2ui-tag-left",i=parseInt(t.left+(r.options.left?r.options.left:0))-s-20,o=parseInt(t.top+(r.options.top?r.options.top:0)),i>=0)break}else if("top"===p){if(n="w2ui-tag-top",i=parseInt(t.left+(r.options.left?r.options.left:0))-14,o=parseInt(t.top+(r.options.top?r.options.top:0))-l-10,i+s<=d&&o>=0)break}else if("bottom"===p&&(n="w2ui-tag-bottom",i=parseInt(t.left+(r.options.left?r.options.left:0))-14,o=parseInt(t.top+r.attachedTo.offsetHeight+(r.options.top?r.options.top:0))+10,i+s<=d&&o+l<=u))break}a.data("posClass")!==n&&a.removeClass("w2ui-tag-right w2ui-tag-left w2ui-tag-top w2ui-tag-bottom").addClass(n).data("posClass",n)}return{left:i,top:o,posClass:n}}});e(".w2ui-tag").each(function(t,n){var i=e(n).data("w2tag");i&&i.hide()})},e.fn.w2overlay=function(t,n){var i,o=this,r="";if(1===arguments.length&&(n="object"==typeof t?t:{html:t}),2===arguments.length&&(n.html=t),e.isPlainObject(n)||(n={}),(n=e.extend({},{name:null,html:"",align:"none",left:0,top:0,tipLeft:30,noTip:!1,selectable:!1,width:0,height:0,maxWidth:null,maxHeight:null,contextMenu:!1,pageX:null,pageY:null,originalEvent:null,style:"",class:"",overlayStyle:"",onShow:null,onHide:null,openAbove:!1,tmp:{}},n)).name&&(r="-"+n.name),0===this.length||""===n.html||null==n.html)return e("#w2ui-overlay"+r).length>0?"function"==typeof(i=e("#w2ui-overlay"+r)[0].hide)&&i():e("#w2ui-overlay"+r).remove(),e(this);e("#w2ui-overlay"+r).length>0&&(i=e("#w2ui-overlay"+r)[0].hide,e(document).off(".w2overlay"+r),"function"==typeof i&&i()),o.length>0&&(null==o[0].tagName||"BODY"===o[0].tagName.toUpperCase())&&(n.contextMenu=!0),n.contextMenu&&n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY),!n.contextMenu||null!=n.pageX&&null!=n.pageY||console.log("ERROR: to display menu at mouse location, pass options.pageX and options.pageY."),e("body").append('<div id="w2ui-overlay'+r+'" style="display: none; left: 0px; top: 0px; '+n.overlayStyle+'"        class="w2ui-reset w2ui-overlay '+(e(this).parents(".w2ui-popup, .w2ui-overlay-popup, .w2ui-message").length>0?"w2ui-overlay-popup":"")+'">    <style></style>    <div style="min-width: 100%; '+n.style+'" class="'+n.class+'"></div></div>');var a=e("#w2ui-overlay"+r),s=a.find(" > div");s.html(n.html);var l=s.css("background-color");null!=l&&"rgba(0, 0, 0, 0)"!==l&&"transparent"!==l&&a.css({"background-color":l,"border-color":l});var d=e(o).offset()||{};return a.data("element",o.length>0?o[0]:null).data("options",n).data("position",d.left+"x"+d.top).fadeIn("fast").on("click",function(t){e("#w2ui-overlay"+r).data("keepOpen",!0),"LABEL"===t.target.tagName.toUpperCase()&&t.stopPropagation()}).on("mousedown",function(e){var t=e.target.tagName.toUpperCase();-1!==["INPUT","TEXTAREA","SELECT"].indexOf(t)||n.selectable||e.preventDefault()}),a[0].hide=u,a[0].resize=c,setTimeout(function(){e(document).off(".w2overlay"+r).on("click.w2overlay"+r,u),"function"==typeof n.onShow&&n.onShow(),c()},10),function t(){var n=e("#w2ui-overlay"+r);if(n.data("element")!==o[0])return;if(0===n.length)return;var i=e(o).offset()||{};var a=i.left+"x"+i.top;n.data("position")!==a?u():setTimeout(t,250)}(),e(this);function u(t){if(!t||0===t.button){var i,o=e("#w2ui-overlay"+r);if(!t||e(e(t.target).closest(".w2ui-overlay").data("element")).closest(".w2ui-overlay")[0]!==o[0])if(!0!==o.data("keepOpen"))"function"==typeof n.onHide&&(i=n.onHide()),!1!==i&&(o.remove(),e(document).off(".w2overlay"+r),clearInterval(o.data("timer")));else o.removeData("keepOpen")}}function c(){var t=e("#w2ui-overlay"+r),i=t.find(" > div"),a=e("#w2ui-overlay"+r+" div.menu");if(a.css("overflow-y","hidden"),t.length>0){i.height("auto").width("auto");var s=!1,l=i.height(),d=i.width();n.width&&n.width<d&&(d=n.width),d<30&&(d=30),n.tmp.contentHeight&&(l=parseInt(n.tmp.contentHeight),i.height(l),setTimeout(function(){var e=i.find("div.menu");l>e.height()&&i.find("div.menu").css("overflow-y","hidden")},1),setTimeout(function(){var e=i.find("div.menu");"auto"!==e.css("overflow-y")&&e.css("overflow-y","auto")},10)),n.tmp.contentWidth&&"both"!==n.align&&(d=parseInt(n.tmp.contentWidth),i.width(d),setTimeout(function(){d>i.find("div.menu > table").width()&&i.find("div.menu > table").css("overflow-x","hidden")},1),setTimeout(function(){i.find("div.menu > table").css("overflow-x","auto")},10));var u=n.left,p=n.width,f=n.tipLeft;switch(n.align){case"both":u=17,0===n.width&&(n.width=w2utils.getSize(e(o),"width")),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth);break;case"left":u=17;break;case"right":u=w2utils.getSize(e(o),"width")-d+10,f=d-40}p=30!==d||p?n.width?n.width:"auto":30;var h,g,m,w=(d-17)/2;if("auto"!==p&&(w=(p-17)/2),w<25&&(u=25-w,f=Math.floor(w)),n.contextMenu)h=n.pageX+8,g=n.pageY-0,m=n.pageY;else h=((y=o.offset()||{}).left>25?y.left:25)+u,g=y.top+w2utils.getSize(o,"height")+n.top+7,m=y.top;t.css({left:h+"px",top:g+"px","min-width":p,"min-height":n.height?n.height:"auto"});var v,y=i.offset()||{},x=window.innerHeight+e(document).scrollTop()-y.top-7,b=window.innerWidth+e(document).scrollLeft()-y.left-7;if(n.contextMenu&&(x=window.innerHeight+e(document).scrollTop()-n.pageY-15,b=window.innerWidth+e(document).scrollLeft()-n.pageX),x>-50&&x<210||!0===n.openAbove)n.contextMenu?(x=n.pageY-7,v=5):(x=y.top-e(document).scrollTop()-7,v=24),n.maxHeight&&x>n.maxHeight&&(x=n.maxHeight),l>x&&(s=!0,i.height(x).width(d).css({"overflow-y":"auto"}),l=x),t.addClass("bottom-arrow"),t.css("top",m-l-v+n.top+"px"),t.find(">style").html("#w2ui-overlay"+r+":before { margin-left: "+parseInt(f)+"px; }#w2ui-overlay"+r+":after { margin-left: "+parseInt(f)+"px; }");else n.maxHeight&&x>n.maxHeight&&(x=n.maxHeight),l>x&&(s=!0,i.height(x).width(d).css({"overflow-y":"auto"})),t.addClass("top-arrow"),t.find(">style").html("#w2ui-overlay"+r+":before { margin-left: "+parseInt(f)+"px; }#w2ui-overlay"+r+":after { margin-left: "+parseInt(f)+"px; }");d=i.width(),b=window.innerWidth+e(document).scrollLeft()-y.left-7,n.maxWidth&&b>n.maxWidth&&(b=n.maxWidth),d>b&&"both"!==n.align&&(n.align="right",setTimeout(function(){c()},1)),(n.contextMenu||n.noTip)&&t.find(">style").html("#w2ui-overlay"+r+":before { display: none; }#w2ui-overlay"+r+":after { display: none; }"),s&&"both"!==n.align&&i.width(d+w2utils.scrollBarSize()+2)}a.css("overflow-y","auto")}},e.fn.w2menu=function(t,n){n&&"function"==typeof n.items&&(n.items=n.items());var i=this,o="";if("refresh"===t)if(e("#w2ui-overlay"+o).length>0){n=e.extend(e.fn.w2menuOptions,n);var r=e("#w2ui-overlay"+o+" div.menu").scrollTop();e("#w2ui-overlay"+o+" div.menu").html(g()),e("#w2ui-overlay"+o+" div.menu").scrollTop(r),f()}else e(this).w2menu(n);else{if("refresh-index"!==t){1===arguments.length?n=t:n.items=t,"object"!=typeof n&&(n={}),n=e.extend({},{type:"normal",index:null,items:[],render:null,msgNoItems:"No items",onSelect:null,tmp:{}},n),e.fn.w2menuOptions=n,n.name&&(o="-"+n.name),"function"==typeof n.select&&"function"!=typeof n.onSelect&&(n.onSelect=n.select),"function"==typeof n.onRender&&"function"!=typeof n.render&&(n.render=n.onRender),e.fn.w2menuClick=function(t,i){var r=!1;-1!==["radio","check"].indexOf(n.type)&&(t.shiftKey||t.metaKey||t.ctrlKey)&&(r=!0),"function"==typeof n.onSelect&&n.onSelect({index:i,item:n.items[i],keepOpen:r,originalEvent:t});var a=e("#w2ui-overlay"+o);a.removeData("keepOpen"),a.length>0&&"function"==typeof a[0].hide&&!r&&a[0].hide()},e.fn.w2menuDown=function(t,i){var o=e(t.target).parents("tr"),r=o.find(".w2ui-icon");if("check"===n.type||"radio"===n.type){var a=n.items[i];a.checked=!a.checked,a.checked?("radio"===n.type&&r.parents("table").find(".w2ui-icon").removeClass("w2ui-icon-check").addClass("w2ui-icon-empty"),"check"===n.type&&null!=a.group&&n.items.forEach(function(e,t){e.group===a.group&&e.checked&&(r.parents("table").find("tr[index="+t+"] .w2ui-icon").removeClass("w2ui-icon-check").addClass("w2ui-icon-empty"),e.checked=!1)}),r.removeClass("w2ui-icon-empty").addClass("w2ui-icon-check")):"check"===n.type&&null==a.group&&r.removeClass("w2ui-icon-check").addClass("w2ui-icon-empty")}o.parent().find("tr").removeClass("w2ui-selected"),o.addClass("w2ui-selected")};var a="";if(n.search){a+='<div style="position: absolute; top: 0px; height: 40px; left: 0px; right: 0px; border-bottom: 1px solid silver; background-color: #ECECEC; padding: 8px 5px;">    <div class="w2ui-icon icon-search" style="position: absolute; margin-top: 4px; margin-left: 6px; width: 11px; background-position: left !important;"></div>    <input id="menu-search" type="text" style="width: 100%; outline: none; padding-left: 20px;" onclick="event.stopPropagation();"/></div>',n.style+=";background-color: #ECECEC",n.index=0;for(var s=0;s<n.items.length;s++)n.items[s].hidden=!1}a+='<div class="menu" style="position: absolute; top: '+(n.search?40:0)+'px; bottom: 0px; width: 100%;">'+g()+"</div>";var l=e(this).w2overlay(a,n);return setTimeout(function(){if(e("#w2ui-overlay"+o+" #menu-search").on("keyup",h).on("keydown",function(e){9===e.keyCode&&(e.stopPropagation(),e.preventDefault())}),n.search){if(-1!==["text","password"].indexOf(e(i)[0].type)||"TEXTAREA"===e(i)[0].tagName.toUpperCase())return;e("#w2ui-overlay"+o+" #menu-search").focus()}f()},200),f(),l}var d=e("#w2ui-overlay"+o+" div.menu"),u=d.find("tr[index="+n.index+"]");r=d.scrollTop();if(d.find("tr.w2ui-selected").removeClass("w2ui-selected"),u.addClass("w2ui-selected"),u.length>0){var c=u[0].offsetTop-5,p=d.height();d.scrollTop(r),(c<r||c+u.height()>r+p)&&d.animate({scrollTop:c-(p-2*u.height())/2},200,"linear")}f()}return;function f(){setTimeout(function(){e("#w2ui-overlay"+o+" tr.w2ui-selected").removeClass("w2ui-selected");var t=e("#w2ui-overlay"+o+" tr[index="+n.index+"]"),i=e("#w2ui-overlay"+o+" div.menu").scrollTop();if(t.addClass("w2ui-selected"),n.tmp&&(n.tmp.contentHeight=e("#w2ui-overlay"+o+" table").height()+(n.search?50:10)),n.tmp&&(n.tmp.contentWidth=e("#w2ui-overlay"+o+" table").width()+1),e("#w2ui-overlay"+o).length>0&&e("#w2ui-overlay"+o)[0].resize(),t.length>0){var r=t[0].offsetTop-5,a=e("#w2ui-overlay"+o+" div.menu").height();e("#w2ui-overlay"+o+" div.menu").scrollTop(i),(r<i||r+t.height()>i+a)&&e("#w2ui-overlay"+o+" div.menu").animate({scrollTop:r-(a-2*t.height())/2},200,"linear")}},1)}function h(t){var r=this.value,a=!1;switch(t.keyCode){case 13:e("#w2ui-overlay"+o).remove(),e.fn.w2menuClick(t,n.index);break;case 9:case 27:e("#w2ui-overlay"+o).remove(),e.fn.w2menuClick(t,-1);break;case 38:for(n.index=w2utils.isInt(n.index)?parseInt(n.index):0,n.index--;n.index>0&&n.items[n.index].hidden;)n.index--;if(0===n.index&&n.items[n.index].hidden)for(;n.items[n.index]&&n.items[n.index].hidden;)n.index++;n.index<0&&(n.index=0),a=!0;break;case 40:for(n.index=w2utils.isInt(n.index)?parseInt(n.index):0,n.index++;n.index<n.items.length-1&&n.items[n.index].hidden;)n.index++;if(n.index===n.items.length-1&&n.items[n.index].hidden)for(;n.items[n.index]&&n.items[n.index].hidden;)n.index--;n.index>=n.items.length&&(n.index=n.items.length-1),a=!0}if(!a){for(var s=0,l=0;l<n.items.length;l++){var d=n.items[l],u="",c="";-1!==["is","begins with"].indexOf(n.match)&&(u="^"),-1!==["is","ends with"].indexOf(n.match)&&(c="$");try{new RegExp(u+r+c,"i").test(d.text)||"..."===d.text?d.hidden=!1:d.hidden=!0}catch(e){}"enum"===i.type&&-1!==e.inArray(d.id,ids)&&(d.hidden=!0),!0!==d.hidden&&s++}for(n.index=0;n.index<n.items.length-1&&n.items[n.index].hidden;)n.index++;s<=0&&(n.index=-1)}e(i).w2menu("refresh",n),f()}function g(){if(n.spinner)return'<table class="w2ui-drop-menu"><tbody><tr><td style="padding: 5px 10px 10px 10px; text-align: center">    <div class="w2ui-spinner" style="width: 18px; height: 18px; position: relative; top: 5px;"></div>     <div style="display: inline-block; padding: 3px; color: #999;">'+w2utils.lang("Loading...")+"</div></td></tr></tbody></table>";for(var e=0,t='<table cellspacing="0" cellpadding="0" class="w2ui-drop-menu"><tbody>',i=null,o=null,r=0;r<n.items.length;r++){var a=n.items[r];if("string"==typeof a?a={id:a,text:a}:(null!=a.text&&null==a.id&&(a.id=a.text),null==a.text&&null!=a.id&&(a.text=a.id),null!=a.caption&&(a.text=a.caption),null==(i=a.img)&&(i=null),null==(o=a.icon)&&(o=null)),-1!=["radio","check"].indexOf(n.type)&&(o=!0===a.checked?"w2ui-icon-check":"w2ui-icon-empty"),!0!==a.hidden){var s="",l=a.text;if("function"==typeof n.render&&(l=n.render(a,n)),i&&(s='<td class="menu-icon"><div class="w2ui-tb-image w2ui-icon '+i+'"></div></td>'),o&&(s='<td class="menu-icon" align="center"><span class="w2ui-icon '+o+'"></span></td>'),"break"===a.type||null==l||""===l||/^-+$/.test(l))t+='<tr><td colspan="3" style="padding: 6px; pointer-events: none"><div style="border-top: 1px solid silver;"></div></td></tr>';else{var d=e%2==0?"w2ui-item-even":"w2ui-item-odd";!0!==n.altRows&&(d="");var u=1;""===s&&u++,null==a.count&&null==a.hotkey&&u++,null==a.tooltip&&null!=a.hint&&(a.tooltip=a.hint),t+='<tr index="'+r+'" style="'+(a.style?a.style:"")+'" '+(a.tooltip?'title="'+w2utils.lang(a.tooltip)+'"':"")+'        class="'+d+" "+(n.index===r?"w2ui-selected":"")+" "+(!0===a.disabled?"w2ui-disabled":"")+'"        onmousedown="if ('+(!0===a.disabled?"true":"false")+") return;               jQuery.fn.w2menuDown(event, '"+r+'\');"        onclick="event.stopPropagation();                if ('+(!0===a.disabled?"true":"false")+") return;               jQuery.fn.w2menuClick(event, '"+r+"');\">"+s+'   <td class="menu-text" colspan="'+u+'">'+w2utils.lang(l)+'</td>   <td class="menu-count">'+(null!=a.count?"<span>"+a.count+"</span>":"")+(null!=a.hotkey?'<span class="hotkey">'+a.hotkey+"</span>":"")+"</td></tr>",e++}}n.items[r]=a}return 0===e&&(t+='<tr><td style="padding: 13px; color: #999; text-align: center">'+n.msgNoItems+"</div></td></tr>"),t+="</tbody></table>"}},e.fn.w2color=function(t,n){var i=e(this),o=i[0];if(i.data("skipInit"))i.removeData("skipInit");else{var r=[-1,-1];null==e.fn.w2colorPalette&&(e.fn.w2colorPalette=[["000000","333333","555555","777777","888888","999999","AAAAAA","CCCCCC","DDDDDD","EEEEEE","F7F7F7","FFFFFF"],["FF011B","FF9838","FFC300","FFFD59","86FF14","14FF7A","2EFFFC","2693FF","006CE7","9B24F4","FF21F5","FF0099"],["FFEAEA","FCEFE1","FCF4DC","FFFECF","EBFFD9","D9FFE9","E0FFFF","E8F4FF","ECF4FC","EAE6F4","FFF5FE","FCF0F7"],["F4CCCC","FCE5CD","FFF1C2","FFFDA1","D5FCB1","B5F7D0","BFFFFF","D6ECFF","CFE2F3","D9D1E9","FFE3FD","FFD9F0"],["EA9899","F9CB9C","FFE48C","F7F56F","B9F77E","84F0B1","83F7F7","B5DAFF","9FC5E8","B4A7D6","FAB9F6","FFADDE"],["E06666","F6B26B","DEB737","E0DE51","8FDB48","52D189","4EDEDB","76ACE3","6FA8DC","8E7CC3","E07EDA","F26DBD"],["CC0814","E69138","AB8816","B5B20E","6BAB30","27A85F","1BA8A6","3C81C7","3D85C6","674EA7","A14F9D","BF4990"],["99050C","B45F17","80650E","737103","395E14","10783D","13615E","094785","0A5394","351C75","780172","782C5A"]]);var a,s=e.fn.w2colorPalette;"string"==typeof t&&(t={color:t,transparent:!0}),null==t.onSelect&&null!=n&&(t.onSelect=n),t.transparent&&"333333"==s[0][1]&&(s[0].splice(1,1),s[0].push("")),t.transparent||"333333"==s[0][1]||(s[0].splice(1,0,"333333"),s[0].pop()),t.color&&(t.color=String(t.color).toUpperCase()),"string"==typeof t.color&&"#"===t.color.substr(0,1)&&(t.color=t.color.substr(1)),null==t.fireChange&&(t.fireChange=!0),0===e("#w2ui-overlay").length?e(o).w2overlay(v(t),t):(e("#w2ui-overlay .w2ui-color").parent().html(v(t)),e("#w2ui-overlay").show()),e("#w2ui-overlay .color").off(".w2color").on("mousedown.w2color",function(n){var i=e(n.originalEvent.target).attr("name");r=e(n.originalEvent.target).attr("index").split(":"),"INPUT"===o.tagName.toUpperCase()?(t.fireChange&&e(o).change(),e(o).next().find(">div").css("background-color",i)):e(o).data("_color",i),"function"==typeof t.onSelect&&t.onSelect(i)}).on("mouseup.w2color",function(){setTimeout(function(){e("#w2ui-overlay").length>0&&e("#w2ui-overlay").removeData("keepOpen")[0].hide()},10)}),e("#w2ui-overlay .color-original").off(".w2color").on("click.w2color",function(t){var n=w2utils.parseColor(e(t.target).css("background-color"));null!=n&&(d=n,l=w2utils.rgb2hsv(d),u(l),c(),p())}),e("#w2ui-overlay input").off(".w2color").on("mousedown.w2color",function(t){e("#w2ui-overlay").data("keepOpen",!0),setTimeout(function(){e("#w2ui-overlay").data("keepOpen",!0)},10),t.stopPropagation()}).on("change.w2color",function(){var t=e(this),n=parseFloat(t.val()),i=parseFloat(t.attr("max"));isNaN(n)&&(n=0),i>1&&(n=parseInt(n)),i>0&&n>i&&(t.val(i),n=i),n<0&&(t.val(0),n=0);var o=t.attr("name"),r={};-1!==["r","g","b","a"].indexOf(o)?(d[o]=n,l=w2utils.rgb2hsv(d)):-1!==["h","s","v"].indexOf(o)&&(r[o]=n),u(r),c(),p()});var l,d=w2utils.parseColor(t.color);null==d&&(d={r:140,g:150,b:160,a:1},l=w2utils.rgb2hsv(d)),l=w2utils.rgb2hsv(d);var u=function(n,i){null!=n.h&&(l.h=n.h),null!=n.s&&(l.s=n.s),null!=n.v&&(l.v=n.v),null!=n.a&&(d.a=n.a,l.a=n.a);var r="rgba("+(d=w2utils.hsv2rgb(l)).r+","+d.g+","+d.b+","+d.a+")",a=[Number(d.r).toString(16).toUpperCase(),Number(d.g).toString(16).toUpperCase(),Number(d.b).toString(16).toUpperCase()];a.forEach(function(e,t){1===e.length&&(a[t]="0"+e)}),1===d.a&&(r=a[0]+a[1]+a[2]),e("#w2ui-overlay .color-preview").css("background-color",r),e("#w2ui-overlay input").each(function(e,t){t.name&&(null!=d[t.name]&&(t.value=d[t.name]),null!=l[t.name]&&(t.value=l[t.name]),"a"===t.name&&(t.value=d.a))}),i?e("#w2ui-overlay .color-original").css("background-color",r):("INPUT"===o.tagName.toUpperCase()?(e(o).val(r).data("skipInit",!0),t.fireChange&&e(o).change(),e(o).next().find(">div").css("background-color",r)):e(o).data("_color",r),"function"==typeof t.onSelect&&t.onSelect(r))},c=function(){var t=e("#w2ui-overlay .palette .value1"),n=e("#w2ui-overlay .rainbow .value2"),i=e("#w2ui-overlay .alpha .value2"),o=parseInt(t.width())/2,r=parseInt(n.width())/2;t.css({left:150*l.s/100-o,top:125*(100-l.v)/100-o}),n.css("left",l.h/2.4-r),i.css("left",150*d.a-r)},p=function(){var t=w2utils.hsv2rgb(l.h,100,100),n=t.r+","+t.g+","+t.b;e("#w2ui-overlay .palette").css("background-image","linear-gradient(90deg, rgba("+n+",0) 0%, rgba("+n+",1) 100%)")},f=function(t){var n=e(this).find(".value1, .value2"),i=parseInt(n.width())/2;n.hasClass("move-x")&&n.css({left:t.offsetX-i+"px"}),n.hasClass("move-y")&&n.css({top:t.offsetY-i+"px"}),a={$el:n,x:t.pageX,y:t.pageY,width:n.parent().width(),height:n.parent().height(),left:parseInt(n.css("left")),top:parseInt(n.css("top"))},g(t),e("body").off(".w2color").on(w,g).on(m,h)},h=function(t){e("body").off(".w2color")},g=function(e){var t=a.$el,n=e.pageX-a.x,i=e.pageY-a.y,o=a.left+n,r=a.top+i,s=parseInt(t.width())/2;o<-s&&(o=-s),r<-s&&(r=-s),o>a.width-s&&(o=a.width-s),r>a.height-s&&(r=a.height-s),t.hasClass("move-x")&&t.css({left:o+"px"}),t.hasClass("move-y")&&t.css({top:r+"px"});var l=t.parent().attr("name"),d=parseInt(t.css("left"))+s,c=parseInt(t.css("top"))+s;if("palette"===l&&u({s:Math.round(d/a.width*100),v:Math.round(100-c/a.height*100)}),"rainbow"===l){var f=Math.round(2.4*d);u({h:f}),p()}"alpha"===l&&u({a:parseFloat(Number(d/150).toFixed(2))})};!0!==e.fn._colorAdvanced&&!0!==t.advanced||(e("#w2ui-overlay .w2ui-color-tabs :nth-child(2)").click(),e("#w2ui-overlay").removeData("keepOpen")),u({},!0),p(),c();var m="mouseup.w2color",w="mousemove.w2color";w2utils.isIOS&&("touchstart.w2color",m="touchend.w2color",w="touchmove.w2color  "),e("#w2ui-overlay .palette").off(".w2color").on("mousedown.w2color",f),e("#w2ui-overlay .rainbow").off(".w2color").on("mousedown.w2color",f),e("#w2ui-overlay .alpha").off(".w2color").on("mousedown.w2color",f),o.nav=function(t){switch(t){case"up":r[0]--;break;case"down":r[0]++;break;case"right":r[1]++;break;case"left":r[1]--}return r[0]<0&&(r[0]=0),r[0]>s.length-2&&(r[0]=s.length-2),r[1]<0&&(r[1]=0),r[1]>s[0].length-1&&(r[1]=s[0].length-1),color=s[r[0]][r[1]],e(o).data("_color",color),color}}function v(e){e.color;for(var t,n='<div class="w2ui-color" onmousedown="jQuery(this).parents(\'.w2ui-overlay\').data(\'keepOpen\', true)"><div class="w2ui-color-palette"><table cellspacing="5"><tbody>',i=0;i<s.length;i++){n+="<tr>";for(var o=0;o<s[i].length;o++)t="FFFFFF"===s[i][o]?";border: 1px solid #efefef":"",n+='<td>    <div class="color '+(""===s[i][o]?"no-color":"")+'" style="background-color: #'+s[i][o]+t+';"        name="'+s[i][o]+'" index="'+i+":"+o+'">'+(e.color==s[i][o]?"&#149;":"&#160;")+"    </div></td>",e.color==s[i][o]&&(r=[i,o]);n+="</tr>",i<2&&(n+='<tr><td style="height: 8px" colspan="8"></td></tr>')}return n+="</tbody></table></div>",n+='<div class="w2ui-color-advanced" style="display: none">   <div class="color-info">       <div class="color-preview-bg"><div class="color-preview"></div><div class="color-original"></div></div>       <div class="color-part">           <span>H</span> <input name="h" maxlength="3" max="360" tabindex="101">           <span>R</span> <input name="r" maxlength="3" max="255" tabindex="104">       </div>       <div class="color-part">           <span>S</span> <input name="s" maxlength="3" max="100" tabindex="102">           <span>G</span> <input name="g" maxlength="3" max="255" tabindex="105">       </div>       <div class="color-part">           <span>V</span> <input name="v" maxlength="3" max="100" tabindex="103">           <span>B</span> <input name="b" maxlength="3" max="255" tabindex="106">       </div>       <div class="color-part" style="margin: 30px 0px 0px 2px">           <span style="width: 40px">Opacity</span>            <input name="a" maxlength="5" max="1" style="width: 32px !important" tabindex="107">       </div>   </div>   <div class="palette" name="palette">       <div class="palette-bg"></div>       <div class="value1 move-x move-y"></div>   </div>   <div class="rainbow" name="rainbow">       <div class="value2 move-x"></div>   </div>   <div class="alpha" name="alpha">       <div class="alpha-bg"></div>       <div class="value2 move-x"></div>   </div></div>',n+="<div class=\"w2ui-color-tabs\">   <div class=\"w2ui-color-tab selected\" onclick=\"jQuery(this).addClass('selected').next().removeClass('selected').parents('.w2ui-overlay').find('.w2ui-color-advanced').hide().parent().find('.w2ui-color-palette').show(); jQuery.fn._colorAdvanced = false; jQuery('#w2ui-overlay')[0].resize()\"><span class=\"w2ui-icon w2ui-icon-colors\"></span></div>   <div class=\"w2ui-color-tab\" onclick=\"jQuery(this).addClass('selected').prev().removeClass('selected').parents('.w2ui-overlay').find('.w2ui-color-advanced').show().parent().find('.w2ui-color-palette').hide(); jQuery.fn._colorAdvanced = true; jQuery('#w2ui-overlay')[0].resize()\"><span class=\"w2ui-icon w2ui-icon-settings\"></span></div>   <div style=\"padding: 8px; text-align: right;\">"+("string"==typeof e.html?e.html:"")+'</div></div></div><div style="clear: both; height: 0"></div>'}}}(jQuery);